(function(){!function(a){"use strict";var b;return a.subscribers={},a.extend=function(a){var b;return b=Array.prototype.slice.call(arguments,1),b.forEach(function(b){var c,d;d=[];for(c in b)d.push(a[c]=b[c]);return d}),a},a.subscribe=function(b,c){a.subscribers[b]||(a.subscribers[b]=[]),-1===a.subscribers[b].indexOf(c)&&a.subscribers[b].push(c)},a.unsubscribe=function(b,c){var d,e;e=a.subscribers[b],e&&(d=e.indexOf(c),d>-1&&e.splice(d,1))},a.publish=function(b,c){var d,e,f,g,h;if(!a.subscribers[b])return!1;for(c.type||(c.type=b),e=a.subscribers[b],h=[],f=0,g=e.length;g>f;f++)d=e[f],h.push(d(c));return h},a.ajax=function(c){var d,e;return d={type:"GET",async:!0,success:function(){},error:function(){},contentType:"application/json",headers:{},crossDomain:!1,timeout:0},c=a.extend(d,c),c.data=a.serialize(c),e=new XMLHttpRequest,e.open(c.type,c.url,c.async),e.onload=function(){var a;return a=e.responseText,e.status>=200&&e.status<400&&"application/json"===c.dataType&&(a=JSON.parse(e.responseText)),c.success(a)},e.onerror=function(){return c.error("error")},b(e,c),e.send(c.data),e},a.serialize=function(a){return"application/json"===a.contentType?JSON.stringify(a.data):a.data},b=function(a,b){var c;b.contentType&&(b.headers["Content-Type"]=b.contentType),b.dataType&&(b.headers.Accept=b.dataType);for(c in b.headers)a.setRequestHeader(c,b.headers[c])}}(u)}).call(this);